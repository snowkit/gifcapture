from http://github.com/snowkit/gif